.. ==================================================
.. FOR YOUR INFORMATION
.. --------------------------------------------------
.. -*- coding: utf-8 -*- with BOM.

.. include:: ../../Includes.txt


.. _administration-faq:

FAQ
---

**Why is the password repeat field not displayed in the Frontend?**

This issue is caused by a missing TCA configuration, if you do not have installed a password
encryption extension. Install a password encryption extension or add the following lines to your
extension's TypoScript:

::

    fieldconfig.password.config.eval = password

**What markers can I use in the email template?**

You can use some special markers:

::

    ###SITEURL###
    ###REQUESTURL###

All "fe_users" field values, raw values and labels:

::

    ###COUNTRY###
    ###COUNTRY_RAW###
    ###LABEL_COUNTRY###

The complete "register." or "edit." configuration values (depending on the current "showtype"):

::

    ###SENDERNAME###

And in the "REGISTRATION" mail a password marker (only if the password was generated by the system):

::

    ###PASSWORD###

**How can I add a country drop down?**

By default the country in TYPO3 is a text input field. If you want to give a Frontend user the
ability to choose the country from a drop down list, you can use the following TypoScript
configuration:

::

    fieldconfig.country.config {
        type = select
        size = 1
        foreign_table = static_countries
        foreign_table_where = ORDER BY cn_short_en ASC
    }

    tablelabelfield.static_countries = cn_short_en

To save the country name (not the static_countries uid) of a selected country, you can additionally
add the following TypoScript code (**ATTENTION:**  If the user edits his profile, the country in the
edit form is not marked as selected if the saved value does not equal the value of the table's uid
field! You can use another field for the uid and copy the country name to the real country field.):

::

    copyfields {
        country.country = 1
        country.country {
            setContentToCurrent = 1

            cObject = RECORDS
            cObject {
                dontCheckPid = 1
                source.current = 1
                tables = static_countries

                conf.static_countries = TEXT
                conf.static_countries.field = cn_short_en
            }
        }
    }

**What can I do if the extension accepts the "-- Please Select --" option of my select field when
the field is required?**

If the html value of the "-- Please Select --" option is zero ("0") you have to enable the "zero"
validation for the field:

::

    validate.field_to_validate {
    type = zero
    }

**How can I use different email templates for multiple languages?**

To use a different email template for another language you have to use a TypoScript condition like
this:

::

    [globalVar = GP:L=1]
    plugin.tx_datamintsfeuser_pi1.register.emailtemplate = fileadmin/templates/feuser_mail_en.html
    [global]

**How can I add a checkbox for general terms and conditions?**

You can add a new checkbox field with the "kickstarter" extension, by extending the "fe_users"
table. After that set the label of the field in the plugin configuration or TypoScript configuration
to:

::

    I agree with the <a href="/generaltermsandconditions.html">general terms and conditions</a>

**Can I set a hidden default user group if I let the user choose which groups he want to join?**

Yes, with the following TypoScript you can allow the user only to change the membership of the
groups 2 and 3, and add group 1 in the background:

::

    copyfields {
        usergroup.usergroup = 1
        usergroup.usergroup {
            wrap = 1, |
        }
    }

    validate {
        usergroup.type = custom
        usergroup.regexp = /^(2|3)$/
    }

    fieldconfig {
        usergroup.config {
            foreign_table_where = uid IN(2,3)
        }
    }

**How can I add the direct_mail category field?**

With the following TypoScript and by adding the "sys_dmail_category" field to the registration /
edit form. This will render a checkbox list where the user can choose one or more newsletter
categories:

::

    fieldconfig {
        module_sys_dmail_category.config {
            foreign_table_where = AND sys_dmail_category.l18n_parent=0
        }
    }

**How can I change the labels of the gender select field?**

For Labels which have a dot "." in the language key, you have to replace this dot with a minus "-".

::

    _LOCAL_LANG.en {
        fe_users-gender-I-0 = Mr.
        fe_users-gender-I-1 = Ms.
    }
